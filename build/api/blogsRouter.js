"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.blogsRouter = exports.userRouter = void 0;
const tslib_1 = require("tslib");
const express_1 = tslib_1.__importDefault(require("express"));
// import { createApiResponse } from "@/api-docs/openAPIResponseBuilders";
// import { GetUserSchema, UserSchema } from "@/api/user/userModel";
// import { validateRequest } from "@/common/utils/httpHandlers";
const blogsController_1 = require("./blogsController");
exports.userRouter = express_1.default.Router();
function redisCachingMiddleware(abc) {
    return (req, res, next) => {
        console.log('redisCachingMiddleware::', abc);
        next();
    };
}
function validateRequest() {
    return (req, res, next) => {
        console.log('validateRequest::');
        next();
    };
}
exports.blogsRouter = express_1.default.Router();
exports.blogsRouter.get("/blogs", validateRequest(), redisCachingMiddleware({
    options: {
        EX: 43200, // 12h
        NX: false, // write the data even if the key already exists
    },
}), blogsController_1.blogsController);
exports.blogsRouter.get("/allblogs", blogsController_1.blogController.getAllBlogs);
exports.blogsRouter.get("/favourites", blogsController_1.blogController.getFavourites);
// userRouter.get("/blogs/:id", validateRequest(GetUserSchema), userController.getUser);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYmxvZ3NSb3V0ZXIuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi9zcmMvYXBpL2Jsb2dzUm91dGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFDQSw4REFBZ0Y7QUFHaEYsMEVBQTBFO0FBQzFFLG9FQUFvRTtBQUNwRSxpRUFBaUU7QUFDakUsdURBQW9FO0FBRXZELFFBQUEsVUFBVSxHQUFXLGlCQUFPLENBQUMsTUFBTSxFQUFFLENBQUM7QUFFbkQsU0FBUyxzQkFBc0IsQ0FBQyxHQUFPO0lBQ3JDLE9BQU8sQ0FBQyxHQUFZLEVBQUUsR0FBYSxFQUFFLElBQWtCLEVBQUUsRUFBRTtRQUN6RCxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFFLEdBQUcsQ0FBQyxDQUFBO1FBQzVDLElBQUksRUFBRSxDQUFBO0lBQ1IsQ0FBQyxDQUFBO0FBQ0gsQ0FBQztBQUVELFNBQVMsZUFBZTtJQUN0QixPQUFPLENBQUMsR0FBWSxFQUFFLEdBQWEsRUFBRSxJQUFrQixFQUFFLEVBQUU7UUFDekQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxtQkFBbUIsQ0FBQyxDQUFBO1FBQ2hDLElBQUksRUFBRSxDQUFBO0lBQ1IsQ0FBQyxDQUFBO0FBQ0gsQ0FBQztBQUVZLFFBQUEsV0FBVyxHQUFVLGlCQUFPLENBQUMsTUFBTSxFQUFFLENBQUE7QUFFbEQsbUJBQVcsQ0FBQyxHQUFHLENBQUMsUUFBUSxFQUFFLGVBQWUsRUFBRSxFQUFHLHNCQUFzQixDQUFDO0lBQ2pFLE9BQU8sRUFBRTtRQUNQLEVBQUUsRUFBRyxLQUFLLEVBQUUsTUFBTTtRQUNsQixFQUFFLEVBQUUsS0FBSyxFQUFFLGdEQUFnRDtLQUM1RDtDQUNGLENBQUMsRUFBQyxpQ0FBZSxDQUFDLENBQUM7QUFFdEIsbUJBQVcsQ0FBQyxHQUFHLENBQUMsV0FBVyxFQUFFLGdDQUFjLENBQUMsV0FBVyxDQUFDLENBQUM7QUFFekQsbUJBQVcsQ0FBQyxHQUFHLENBQUMsYUFBYSxFQUFFLGdDQUFjLENBQUMsYUFBYSxDQUFDLENBQUM7QUFJN0Qsd0ZBQXdGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgdHlwZSBSb3V0ZXIgfSBmcm9tIFwiZXhwcmVzc1wiO1xuaW1wb3J0IGV4cHJlc3MsIHsgQXBwbGljYXRpb24sIFJlcXVlc3QsIFJlc3BvbnNlLCBOZXh0RnVuY3Rpb24gfSBmcm9tICdleHByZXNzJztcblxuXG4vLyBpbXBvcnQgeyBjcmVhdGVBcGlSZXNwb25zZSB9IGZyb20gXCJAL2FwaS1kb2NzL29wZW5BUElSZXNwb25zZUJ1aWxkZXJzXCI7XG4vLyBpbXBvcnQgeyBHZXRVc2VyU2NoZW1hLCBVc2VyU2NoZW1hIH0gZnJvbSBcIkAvYXBpL3VzZXIvdXNlck1vZGVsXCI7XG4vLyBpbXBvcnQgeyB2YWxpZGF0ZVJlcXVlc3QgfSBmcm9tIFwiQC9jb21tb24vdXRpbHMvaHR0cEhhbmRsZXJzXCI7XG5pbXBvcnQgeyBibG9nc0NvbnRyb2xsZXIsIGJsb2dDb250cm9sbGVyIH0gZnJvbSBcIi4vYmxvZ3NDb250cm9sbGVyXCI7XG5cbmV4cG9ydCBjb25zdCB1c2VyUm91dGVyOiBSb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpO1xuXG5mdW5jdGlvbiByZWRpc0NhY2hpbmdNaWRkbGV3YXJlKGFiYzphbnkpOiBhbnkge1xuICByZXR1cm4gKHJlcTogUmVxdWVzdCwgcmVzOiBSZXNwb25zZSwgbmV4dDogTmV4dEZ1bmN0aW9uKSA9PiB7XG4gICAgY29uc29sZS5sb2coJ3JlZGlzQ2FjaGluZ01pZGRsZXdhcmU6OicsIGFiYylcbiAgICBuZXh0KClcbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVJlcXVlc3QoKTogYW55IHtcbiAgcmV0dXJuIChyZXE6IFJlcXVlc3QsIHJlczogUmVzcG9uc2UsIG5leHQ6IE5leHRGdW5jdGlvbikgPT4ge1xuICAgIGNvbnNvbGUubG9nKCd2YWxpZGF0ZVJlcXVlc3Q6OicpXG4gICAgbmV4dCgpXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IGJsb2dzUm91dGVyOlJvdXRlciA9IGV4cHJlc3MuUm91dGVyKClcblxuYmxvZ3NSb3V0ZXIuZ2V0KFwiL2Jsb2dzXCIsIHZhbGlkYXRlUmVxdWVzdCgpICwgcmVkaXNDYWNoaW5nTWlkZGxld2FyZSh7XG4gICAgb3B0aW9uczoge1xuICAgICAgRVg6ICA0MzIwMCwgLy8gMTJoXG4gICAgICBOWDogZmFsc2UsIC8vIHdyaXRlIHRoZSBkYXRhIGV2ZW4gaWYgdGhlIGtleSBhbHJlYWR5IGV4aXN0c1xuICAgIH0sXG4gIH0pLGJsb2dzQ29udHJvbGxlcik7XG5cbmJsb2dzUm91dGVyLmdldChcIi9hbGxibG9nc1wiLCBibG9nQ29udHJvbGxlci5nZXRBbGxCbG9ncyk7XG5cbmJsb2dzUm91dGVyLmdldChcIi9mYXZvdXJpdGVzXCIsIGJsb2dDb250cm9sbGVyLmdldEZhdm91cml0ZXMpO1xuXG5cblxuLy8gdXNlclJvdXRlci5nZXQoXCIvYmxvZ3MvOmlkXCIsIHZhbGlkYXRlUmVxdWVzdChHZXRVc2VyU2NoZW1hKSwgdXNlckNvbnRyb2xsZXIuZ2V0VXNlcik7Il19